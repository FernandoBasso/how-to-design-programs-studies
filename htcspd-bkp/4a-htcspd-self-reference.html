<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>4a - Self-Reference - How to Code — Systematic Program Design — EDX Online Course</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>4a - Self-Reference - How to Code — Systematic Program Design — EDX Online Course</h1>
<div id="toc" class="toc2">
<div id="toctitle">Index</div>
<ul class="sectlevel1">
<li><a href="#food_for_thought">Food for Thought</a></li>
<li><a href="#4a_self_reference">4a: Self Reference</a>
<ul class="sectlevel2">
<li><a href="#intro_to_arbitrary_sized_data">Intro to Arbitrary Sized Data</a></li>
<li><a href="#list_mechanisms">List Mechanisms</a>
<ul class="sectlevel3">
<li><a href="#questions">Questions</a>
<ul class="sectlevel4">
<li><a href="#q_1">Q 1</a></li>
<li><a href="#q_2">Q 2</a></li>
<li><a href="#q_3">Q 3</a></li>
<li><a href="#q_4">Q 4</a></li>
<li><a href="#q_5">Q 5</a></li>
<li><a href="#q_6">Q 6</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#list_data_definition">List Data Definition</a>
<ul class="sectlevel3">
<li><a href="#vd_quidditch_teams_part_1">vd - Quidditch Teams - Part 1</a></li>
<li><a href="#exercises">Exercises</a>
<ul class="sectlevel4">
<li><a href="#q_1_2">Q 1</a></li>
<li><a href="#q_2_2">Q 2</a></li>
<li><a href="#q_3_2">Q 3</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#functions_operating_on_list">Functions Operating on List</a>
<ul class="sectlevel3">
<li><a href="#vd_quidditch_teams_part_2">vd - Quidditch Teams - Part 2</a></li>
<li><a href="#questions_2">Questions</a>
<ul class="sectlevel4">
<li><a href="#q_1_2_and_3">Q 1, 2, and 3</a></li>
<li><a href="#q_4_5_and_6">Q 4, 5 and 6</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#revising_recipes_for_lists">Revising Recipes for Lists</a>
<ul class="sectlevel3">
<li><a href="#vd_quidditch_final">vd - quidditch - final</a></li>
<li><a href="#questions_3">Questions</a>
<ul class="sectlevel4">
<li><a href="#q_1_3">Q 1</a></li>
<li><a href="#q_2_3">Q 2</a></li>
<li><a href="#q_3_3">Q 3</a></li>
<li><a href="#q_4_2">Q 4</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#designing_with_lists">Designing With Lists</a>
<ul class="sectlevel3">
<li><a href="#vd_owls">vd - owls</a></li>
<li><a href="#questions_4">Questions</a>
<ul class="sectlevel4">
<li><a href="#q_1_4">Q 1</a></li>
<li><a href="#q_2_4">Q 2</a></li>
<li><a href="#q_3_4">Q 3</a></li>
<li><a href="#q_4_5_6">Q 4, 5 6</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#position_in_list_templates">Position in List Templates</a>
<ul class="sectlevel3">
<li><a href="#questions_5">Questions</a>
<ul class="sectlevel4">
<li><a href="#q_1_2_and_3_2">Q 1, 2 and 3</a></li>
<li><a href="#qa_product">qa - product</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#practice_problems">Practice Problems</a>
<ul class="sectlevel3">
<li><a href="#pp_double_all">pp - double all</a></li>
<li><a href="#pp_bool_list_all_true">pp - bool list all true?</a></li>
<li><a href="#pp_largest_number">pp - largest number</a></li>
<li><a href="#pp_area_of_images">pp - area of images</a></li>
<li><a href="#gotcha">Gotcha</a></li>
</ul>
</li>
<li><a href="#quiz_the_hard_one">Quiz (the hard one)</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="food_for_thought"><a class="link" href="#food_for_thought">Food for Thought</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Time is a constant. It passes by. Just. If you are working or studying and constantly checking social media news feed, irc, etc., you are taking much more time to complete the task at hand and wasting time (= life) for no good reason. When you are doing something, <strong>do that</strong>. Remember that saying: “Wherever you are, be there!”</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="4a_self_reference"><a class="link" href="#4a_self_reference">4a: Self Reference</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="intro_to_arbitrary_sized_data"><a class="link" href="#intro_to_arbitrary_sized_data">Intro to Arbitrary Sized Data</a></h3>
<div class="paragraph">
<p>No more fixed number of items/elements/data to deal with. We&#8217;ll learn how to deal with information that we don&#8217;t know upfront how many of it there will be!</p>
</div>
</div>
<div class="sect2">
<h3 id="list_mechanisms"><a class="link" href="#list_mechanisms">List Mechanisms</a></h3>
<div class="paragraph">
<p>One can represent arbitrarily-sized data using compound data. This approach will be learned later.</p>
</div>
<div class="paragraph">
<p>The simplest way to work with and represent arbitrarily-sized data is using <strong>lists of values</strong>.</p>
</div>
<div class="paragraph">
<p><code>empty</code> is an empty list of any type of data. It is just a name for <code>'()</code>, that is, <code>empty</code> and <code>'()</code> are the same thing.</p>
</div>
<div class="paragraph">
<p>You <code>cons</code> things onto an empty list to create longer and longer lists. <code>cons</code> is a two-argument constructor.</p>
</div>
<div class="paragraph">
<p>We can use expressions to produce a value for an element of a list, but the resulting list values are formed out of values only, no other expressions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-nb">string-append</span> <span class="tok-s2">&quot;Obi&quot;</span> <span class="tok-s2">&quot;wan&quot;</span> <span class="tok-nb">empty</span><span class="tok-p">))</span>
<span class="tok-c1">;; produces:</span>
<span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;Obiwan&quot;</span> <span class="tok-nb">empty</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>first</code> and <code>rest</code> are akin to <code>car</code> and <code>cdr</code> in some other lisps.</p>
</div>
<div class="paragraph">
<p>To check whether a list is empty you use <code>empty?</code>.</p>
</div>
<div class="sect3">
<h4 id="questions"><a class="link" href="#questions">Questions</a></h4>
<hr>
<div class="sect4">
<h5 id="q_1"><a class="link" href="#q_1">Q 1</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>What is the value produced by the expression below?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons (+ 1 1) (cons 1 empty))</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>a: 3
b: 2
c: (cons 3 empty)
d: (cons 2 (cons 1 empty))</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: Letter <em>d</em> is correct.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_2"><a class="link" href="#q_2">Q 2</a></h5>
<div class="openblock question">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>(define L1 (cons "Systematic"
                 (cons "Program"
                       (cons "Design" empty))))
(define L2 (cons 1 empty))</pre>
</div>
</div>
<div class="paragraph">
<p>What is the value produced by the expression <code>(first L1)</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a: (cons "Systematic Program Design" empty)
b: (cons "Program" (cons "Design" empty))
c: (cons "Systematic" empty)
d: "Systematic"
e: "Design"
f: empty</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: Letter <em>c</em> is correct. “Systematic” is the value produced by <code>(first L1)</code>.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_3"><a class="link" href="#q_3">Q 3</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>What is the value produced by the expression <code>(rest L1)</code> from the previous exercise?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a: (cons "Systematic Program Design" empty)
b: (cons "Program" (cons "Design" empty))
c: (cons "Systematic" empty)
d: "Systematic"
e: "Design"
f: empty</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>The rest of the list</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons "Systematic" (cons "Program" (cons "Design" empty)))</pre>
</div>
</div>
<div class="paragraph">
<p>is the list</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons "Program" (cons "Design" empty))</pre>
</div>
</div>
<div class="paragraph">
<p>Therefore, letter <em>b</em> is correct.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_4"><a class="link" href="#q_4">Q 4</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>What is the value produced by the expression <code>(empty? L2)</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons 1 empty)
empty
true
false</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p><code>false</code> produced by the expression <code>(empty? L2)</code>?</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_5"><a class="link" href="#q_5">Q 5</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>What is the value produced by the expression <code>(empty? (rest L2))</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons 1 empty)
empty
true
false</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>It produces <code>#true</code>.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_6"><a class="link" href="#q_6">Q 6</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>How many elements does this list have?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons "a" (cons (string-append "b" "c") (cons "d" empty)))
2
3
4
5</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>It has 3 element.s</p>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list_data_definition"><a class="link" href="#list_data_definition">List Data Definition</a></h3>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/vd01-selfref1.png" alt="self-reference type comment">
</div>
<div class="title">Self-reference type comment</div>
</div>
<div class="paragraph">
<p>The position where the arrow starts and ends is important for quizzes later.</p>
</div>
<div class="paragraph">
<p>Always make sure the examples match the type definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS1</span> <span class="tok-nb">empty</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;jedi&quot;</span> <span class="tok-nb">empty</span><span class="tok-p">))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;jedi&quot;</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;tux&quot;</span> <span class="tok-nb">empty</span><span class="tok-p">)))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS4</span> <span class="tok-s2">&quot;obiwan&quot;</span> <span class="tok-s2">&quot;anakin&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The last one doesn&#8217;t match the type comment, it never cons onto <code>ListOfString</code>.</p>
</div>
<div class="paragraph">
<p>The self-reference lets us match arbitrarily long lists.</p>
</div>
<div class="paragraph">
<p>We must represent information about the world as data in the program, but we must also know how to interpret data in the program as the information about the world.</p>
</div>
<div class="sect3">
<h4 id="vd_quidditch_teams_part_1"><a class="link" href="#vd_quidditch_teams_part_1">vd - Quidditch Teams - Part 1</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Imagine that you are designing a program that will keep track of</span>
<span class="tok-c1">; your favorite Quidditch teams. (http://www.internationalquidditch.org/).</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a data definition to represent a list of Quidditch teams.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfString is one of:</span>
<span class="tok-c1">;; - &#39;()</span>
<span class="tok-c1">;; - (cons String ListOfString)</span>
<span class="tok-c1">;; Interp. a list of strings.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-los</span> <span class="tok-n">los</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span>  <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
         <span class="tok-p">[</span><span class="tok-k">else</span>
          <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">los</span><span class="tok-p">)</span>    <span class="tok-c1">; String</span>
               <span class="tok-p">(</span><span class="tok-n">fn-for-los</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">los</span><span class="tok-p">)))]))</span>  <span class="tok-c1">; ListOfString</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;   - atomic distinct: &#39;()</span>
<span class="tok-c1">;;   - compound: (cons String ListOfString)</span>
<span class="tok-c1">;; - &lt;(fn-for-los (rest los)) is a rule that will be seen later&gt;</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>If we have the type definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfString is one of:
;; - empty
;; - (cons String ListOfString)</pre>
</div>
</div>
<div class="paragraph">
<p>And the list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(cons "linux" (cons "vim" (cons "emacs" empty)))</pre>
</div>
</div>
<div class="paragraph">
<p>We can say that we have a ListOfString with three elements, and the rest of that list is another ListOfString (with two elements), and the rest of that is yet another ListOfString (with one element), and the rest of it is an empty ListOfString. Look:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; (define MYLIST (cons "linux" (cons "vim" (cons "emacs" '()))))
&gt; MYLIST
(cons "linux" (cons "vim" (cons "emacs" '())))
&gt; (rest MYLIST)
(cons "vim" (cons "emacs" '()))
&gt; (rest (rest MYLIST))
(cons "emacs" '())
&gt; (rest (rest (rest MYLIST)))
'()</pre>
</div>
</div>
<div class="paragraph">
<p>Always make sure the examples match the type difinition: Is LOS1 a ListOfString? Is LOS2 a ListOfString? What about LOS3?</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="exercises"><a class="link" href="#exercises">Exercises</a></h4>
<div class="sect4">
<h5 id="q_1_2"><a class="link" href="#q_1_2">Q 1</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Consider the following Data Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfNatural is one of:
;; - empty
;; - (cons Natural ListOfNatural)</pre>
</div>
</div>
<div class="paragraph">
<p>Is empty a ListOfNatural? In other words, does empty match the type ListOfNatural?</p>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>Yes, it is.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_2_2"><a class="link" href="#q_2_2">Q 2</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Is <code>(cons 1 (cons 1.5 '())</code> a ListOfNatural?</p>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>No, it isn&#8217;t.</p>
</div>
<div class="paragraph">
<p>First we look at the case <code>(cons Natural ListOfNatural)</code> and ask is 1 Natural? The answer is yes. Then we ask if <code>(cons 1.5 empty)</code> is ListOfNatural. This requires 1.5 to be Natural, which it is not, so <code>(cons 1 (cons 1.5 empty)</code> is not a ListOfNatural.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_3_2"><a class="link" href="#q_3_2">Q 3</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Consider the following partial data definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; Mystery is one of:
;; - (cons 1 empty)
;; - (cons Natural Mystery)</pre>
</div>
</div>
<div class="paragraph">
<p>Which of the following match the type Mystery?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a: (cons 2 empty)
b: (cons 1 empty)
c: (cons 5 (cons 4 (cons 1 empty)))
d: empty</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>Options <em>b</em> and <em>c</em> match the type Mistery.</p>
</div>
<div class="paragraph">
<p>For the first option, 2 is of type Natural, but empty is not a Mystery, so it does not match.</p>
</div>
<div class="paragraph">
<p>The second option is exactly <code>(cons 1 empty)</code>.</p>
</div>
<div class="paragraph">
<p>In the third option, 5 is of type Natural, so we need to check if <code>(cons 4 (cons 1 empty))</code> is a mystery. Next, we see that 4 is Natural, so we need <code>(cons 1 empty)</code> to be a Mystery, which it is.</p>
</div>
<div class="paragraph">
<p>In the fourth case, empty is neither <code>(cons 1 empty)</code> nor <code>(cons Natural Mystery)</code>.</p>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="functions_operating_on_list"><a class="link" href="#functions_operating_on_list">Functions Operating on List</a></h3>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/vd02-fnoplist.png" alt="template function operation list natural recursion">
</div>
<div class="title">Template for ListOfString from previous lesson</div>
</div>
<div class="listingblock">
<div class="content">
<pre>;; Template Rules Used:
;;  - one of: 2 cases
;;    - atomic distinct: empty
;;    - compound: (cons String ListOfString)
;;    - &lt;What else here? Coming son!&gt;</pre>
</div>
</div>
<div class="sect3">
<h4 id="vd_quidditch_teams_part_2"><a class="link" href="#vd_quidditch_teams_part_2">vd - Quidditch Teams - Part 2</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM 1:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Imagine that you are designing a program that will keep track of</span>
<span class="tok-c1">; your favorite Quidditch teams. (http://www.internationalquidditch.org/).</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a data definition to represent a list of Quidditch teams.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfString is one of:</span>
<span class="tok-c1">;; - &#39;()</span>
<span class="tok-c1">;; - (cons String ListOfString)</span>
<span class="tok-c1">;; Interp. a list of strings.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-los</span> <span class="tok-n">los</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span>  <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
         <span class="tok-p">[</span><span class="tok-k">else</span>
          <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">los</span><span class="tok-p">)</span>                  <span class="tok-c1">; String</span>
               <span class="tok-p">(</span><span class="tok-n">fn-for-los</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">los</span><span class="tok-p">)))]))</span>  <span class="tok-c1">; ListOfString</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;   - atomic distinct: &#39;()</span>
<span class="tok-c1">;;   - compound: (cons String ListOfString)</span>
<span class="tok-c1">;; - &lt;(fn-for-los (rest los)) is a rule that will be seen later&gt;</span>


<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM 2:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; We want to know whether your list of favorite Quidditch teams includes</span>
<span class="tok-c1">; UBC! Design a function that consumes ListOfString and produces true if</span>
<span class="tok-c1">; the list includes &quot;UBC&quot;.</span>
                                        <span class="tok-c1">;</span>
<span class="tok-c1">;; ListOfString -&gt; Boolean</span>
<span class="tok-c1">;; Produce #true if los includes &quot;UBC&quot;.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#true</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span> <span class="tok-no">#true</span><span class="tok-p">)</span>

<span class="tok-c1">;(define (contains-ubc? los) false) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-n">los</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span>  <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-no">#false</span><span class="tok-p">]</span>
         <span class="tok-p">[</span><span class="tok-k">else</span>
          <span class="tok-p">(</span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nb">string=?</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-s2">&quot;UBC&quot;</span><span class="tok-p">)</span>      <span class="tok-c1">; String</span>
              <span class="tok-no">#true</span>
              <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">los</span><span class="tok-p">)))]))</span>    <span class="tok-c1">; ListOfString</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example we used a recursive call to <code>contains-ubc?</code>, and that was naturally caused by the self-reference in the type comment.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="questions_2"><a class="link" href="#questions_2">Questions</a></h4>
<div class="paragraph">
<p>Consider the following Date Definition for ListOfNumber:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfNumber is one of:
;; - '()
;; - (cons Number ListOfNumber)
;; Interp. a list of numbers.
(define LON1 '())
(define LON2 (cons 1 '()))
(define LON3 (cons 2 (cons 1 '())))

#;
(define (fn-for-lon lon)
  (cond [(empty? lon) (...)]
        [else
         (... (first lon)
              (fn-for-lon (rest lon)))]))

;; Template Rules Used:
;; - one of: 2 cases
;;   - atomic distinct: empty
;;   - compound: (cons Number ListOfNumber)
;; - &lt;the one we are yet to study&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>And this signature and purpose:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfNumber -&gt; Boolean
;; Produce #true if a lon contains a negative number.</pre>
</div>
</div>
<div class="sect4">
<h5 id="q_1_2_and_3"><a class="link" href="#q_1_2_and_3">Q 1, 2, and 3</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>What is the result of the following tests?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(check-expect (contains-negative? (cons 1 empty)) _____)
(check-expect (contains-negative? (cons 1 (cons -1.5 empty))) _____)
(check-expect (contains-negative? empty) _____)</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p><code>#false</code>, <code>#true</code> and <code>#false</code>.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_4_5_and_6"><a class="link" href="#q_4_5_and_6">Q 4, 5 and 6</a></h5>
<div class="paragraph">
<p>Based on</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfNumber -&gt; Boolean
;; Produce #true if a lon contains a negative number.
(check-expect (contains-negative? (cons 1 empty)) _____)
(check-expect (contains-negative? (cons 1 (cons -1.5 empty))) _____)
(check-expect (contains-negative? empty) _____)</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s fill the blanks for:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(define (fn-for-lon lon)
  (cond [(empty? lon) __1__]
        [else
          if (__2__(first lon))
             #true
             (__3__(fn-for-lon (rest long)))]))</pre>
</div>
</div>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q4: What goes on <em>__1__</em>, <code>emtpy</code>, <code>#true</code> or <code>#false</code>?</p>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: <code>#false</code> goes on <em>__1__</em>.</p>
</div>
</div>
</div>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q5: What should we use to check if the first element of lon is negative in <em>__2__</em>?</p>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: We should use <code>negative?</code>.</p>
</div>
</div>
</div>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q6: In <em>__3__</em>, what function should we use in place of <code>fn-for-lon</code>?</p>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: In <em>__3__</em> we should use <code>contains-negative?</code>.</p>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="revising_recipes_for_lists"><a class="link" href="#revising_recipes_for_lists">Revising Recipes for Lists</a></h3>
<div class="paragraph">
<p>Remember: arbitrary amounts of things require arbitrarily-sized data.</p>
</div>
<div class="paragraph">
<p>The <em>self-reference case</em> is what allows data to become longer and longer. The <em>base case</em>, though, is what allows it to end, eventually (indispensable for recursion).</p>
</div>
<div class="paragraph">
<p>Well-formed self-reference:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>at least one base case (allows it to stop, end, finish);</p>
</li>
<li>
<p>at least one self-reference case (allows it to grow arbitrarily).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples must include both base case and self-reference cases.</p>
</div>
<div class="paragraph">
<p>The self-reference template rule puts a natural recursion in the template that corresponds to the self-reference in the type comment.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/vd03-templnatrecurs.png" alt="template natural recursion">
</div>
<div class="title">Template with natural recursion</div>
</div>
<div class="paragraph">
<p>The self-reference is what is known as <strong>natural recursion</strong>.</p>
</div>
<div class="paragraph">
<p><code>check-expect</code> the base case first, then proceed to the other tests.</p>
</div>
<div class="paragraph">
<p>Use <code>check-expects</code> as examples, run tests against the stub, and <em>only then</em> code the final function.</p>
</div>
<div class="paragraph">
<p>Non-base cases tend to rely on the base cases.</p>
</div>
<div class="paragraph">
<p>Have one or more tests in which the list is at least two elements long, as it may uncover bugs that would otherwise remain hidden until your program goes into production.</p>
</div>
<div class="paragraph">
<p>Trust the natural recursion.</p>
</div>
<div class="sect3">
<h4 id="vd_quidditch_final"><a class="link" href="#vd_quidditch_final">vd - quidditch - final</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM 1:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Imagine that you are designing a program that will keep track of</span>
<span class="tok-c1">; your favorite Quidditch teams. (http://www.internationalquidditch.org/).</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a data definition to represent a list of Quidditch teams.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfString is one of:</span>
<span class="tok-c1">;; - &#39;()</span>
<span class="tok-c1">;; - (cons String ListOfString)</span>
<span class="tok-c1">;; Interp. a list of strings.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOS3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-los</span> <span class="tok-n">los</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span>  <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
         <span class="tok-p">[</span><span class="tok-k">else</span>
          <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">los</span><span class="tok-p">)</span>                  <span class="tok-c1">; String</span>
               <span class="tok-p">(</span><span class="tok-n">fn-for-los</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">los</span><span class="tok-p">)))]))</span>  <span class="tok-c1">; ListOfString</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;   - atomic distinct: &#39;()</span>
<span class="tok-c1">;;   - compound: (cons String ListOfString)</span>
<span class="tok-c1">;; - self-reference: (rest los) is ListOfString </span><i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-c1">; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="tok-c1">; NOTE: This last line of the template rules was added in this</span>
<span class="tok-c1">; example, and was missing from the previous ones.</span>
<span class="tok-c1">; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM 2:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; We want to know whether your list of favorite Quidditch teams includes</span>
<span class="tok-c1">; UBC! Design a function that consumes ListOfString and produces true if</span>
<span class="tok-c1">; the list includes &quot;UBC&quot;.</span>
                                        <span class="tok-c1">;</span>
<span class="tok-c1">;; ListOfString -&gt; Boolean</span>
<span class="tok-c1">;; Produce #true if los includes &quot;UBC&quot;.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#true</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;McGill&quot;</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-s2">&quot;UBC&quot;</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span> <span class="tok-no">#true</span><span class="tok-p">)</span>

<span class="tok-c1">;(define (contains-ubc? los) false) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-n">los</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span>  <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-no">#false</span><span class="tok-p">]</span>
         <span class="tok-p">[</span><span class="tok-k">else</span>
          <span class="tok-p">(</span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nb">string=?</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">los</span><span class="tok-p">)</span> <span class="tok-s2">&quot;UBC&quot;</span><span class="tok-p">)</span>      <span class="tok-c1">; String</span>
              <span class="tok-no">#true</span>
              <span class="tok-p">(</span><span class="tok-n">contains-ubc?</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">los</span><span class="tok-p">)))]))</span>    <span class="tok-c1">; ListOfString</span>
</td></tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="questions_3"><a class="link" href="#questions_3">Questions</a></h4>
<hr>
<div class="sect4">
<h5 id="q_1_3"><a class="link" href="#q_1_3">Q 1</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q: Does the type comment have a self-reference?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfNumber is one of:
;; - (cons Number ListOfNumber)</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: Yes, it does.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_2_3"><a class="link" href="#q_2_3">Q 2</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q: Is this self-referential type comment well-formed?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListOfNumber is one of:
;; - (cons Number ListOfNumber)</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: No, it is not because it lacks a base case.</p>
</div>
</div>
</div>
<hr>
<div class="paragraph">
<p>OBS: The previous two questions have the same type comment. But ask different questions about it. It may catch you off guard. Remember that a well-formed self-referential type must have at least one base case and at least on self-reference.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_3_3"><a class="link" href="#q_3_3">Q 3</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Is this well-formed self-referential type?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; NonEmptyListOfNumber is one of:
;; - (cons Number empty)
;; - (cons Number NonEmptyListOfNumber)</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>Yes, it is. This type comment is for a <em>non-empty</em> list, but it is indeed well-formed.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_4_2"><a class="link" href="#q_4_2">Q 4</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>In the <code>contains-negative?</code> function you designed in an earlier question, which of these check-expects should appear first?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a: (check-expect (contains-negative? (cons 1 empty)) false)
b: (check-expect (contains-negative? empty) false)
c: (check-expect (contains-negative? (cons 1 (cons -1.5 empty))) true)
d: It doesn't matter which one appears first</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: Letter <em>b</em> is correct. The base case test should always appear first for self-referential functions because it&#8217;s the simplest and all the other tests depened on it being correct.</p>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="designing_with_lists"><a class="link" href="#designing_with_lists">Designing With Lists</a></h3>
<div class="sect3">
<h4 id="vd_owls"><a class="link" href="#vd_owls">vd - owls</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; You&#39;ve been asked to design a program having to do with all the owls</span>
<span class="tok-c1">; in the owlery.</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; (A) Design a data definition to represent the weights of all the owls.</span>
<span class="tok-c1">;     For this problem call it ListOfNumber.</span>
<span class="tok-c1">; (B) Design a function that consumes the weights of owls and produces</span>
<span class="tok-c1">;     the total weight of all the owls.</span>
<span class="tok-c1">; (C) Design a function that consumes the weights of owls and produces</span>
<span class="tok-c1">;     the total number of owls.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ================================================================</span>
<span class="tok-c1">;; DATA DEFINITIONS</span>

<span class="tok-c1">;; ListOfNumber is one of:</span>
<span class="tok-c1">;; - &#39;()</span>
<span class="tok-c1">;; - (cons Number ListOfNumber)</span>
<span class="tok-c1">;; Interp. Each number in the list is an owel weight in ounces.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">60</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">42</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>


<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;   - atomic distinct: empty</span>
<span class="tok-c1">;;   - (cons Number ListOfNumber)</span>
<span class="tok-c1">;; - self-reference: (rest lon) is ListOfNumber</span>



<span class="tok-c1">;; ================================================================</span>
<span class="tok-c1">;; FUNCTIONS</span>

<span class="tok-c1">;; ListOfNumber -&gt; Number</span>
<span class="tok-c1">;; Produce total weight of owls in consumed list of weights.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">sum</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">sum</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">60</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">60</span> <span class="tok-mi">0</span><span class="tok-p">))</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">sum</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">60</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">42</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span> <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">60</span> <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">42</span> <span class="tok-mi">0</span><span class="tok-p">)))</span>

<span class="tok-c1">;(define (sum lon) 0) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">sum</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-mi">0</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
            <span class="tok-p">(</span><span class="tok-n">sum</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>


<span class="tok-c1">;; ListOfNumber -&gt; Natural</span>
<span class="tok-c1">;; Produce the total number of owls from consumed list of weights.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-nb">count</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-nb">count</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">60</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">1</span> <span class="tok-mi">0</span><span class="tok-p">))</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-nb">count</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">60</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">42</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span> <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">1</span> <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">1</span> <span class="tok-mi">0</span><span class="tok-p">)))</span>

<span class="tok-c1">;(define (count lon) 0) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-nb">count</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-mi">0</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-mi">1</span>
            <span class="tok-p">(</span><span class="tok-nb">count</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>“all weights of all the owls” → arbitrary number of owl weights → well-formed self-referential data definition.</p>
</div>
<div class="paragraph">
<p>If the type definition is “ListOfSomething is <strong>one of</strong>”, that “one of” means our template rules should have a “one of: N cases”.</p>
</div>
<div class="paragraph">
<p>If the comment type definition has a self-reference, the template and the resulting actual functions must also have a self-reference (natural recursion). And we shall never forget the base case.</p>
</div>
<div class="paragraph">
<p>When copying and renaming the template, also rename the natural recursion.</p>
</div>
<div class="paragraph">
<p>Again: trust the natural recursion.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="questions_4"><a class="link" href="#questions_4">Questions</a></h4>
<div class="sect4">
<h5 id="q_1_4"><a class="link" href="#q_1_4">Q 1</a></h5>
<div class="openblock question">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>;; ListOfString is one of:
;; - empty
;; (cons String ListOfString)
(define LOS1 empty)
(define LOS2 (cons "a" empty))
(define LOS3 (cons "a" (cons "b" empty)))
#;
(define (fn-for-los los)
  (cond [(empty? los) empty]
        [else
          (... (first los)
               (rest los))]))</pre>
</div>
</div>
<div class="paragraph">
<p>In the above Data Definition, what is wrong with the template? Choose all answers that apply.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a: It's missing the natural recursion for (first los)
b: It's missing the natural recursion for (rest los)
c: It's missing the base case
d: It's incorrectly named
e: The base case should be (...) instead of empty</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: Letters <em>b</em> and <em>e</em> are the options that denote incorrect parts of the template.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_2_4"><a class="link" href="#q_2_4">Q 2</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Which of the following shows the correct self-reference arrow(s)?</p>
</div>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/qa04-correct-arrows-self-ref.jpg" alt="correct arrows for self reference">
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>The correct way is the last one.</p>
</div>
<div class="paragraph">
<p>The self-reference arrow should originate from the type reference, in this case ListOfNumber in (cons Number ListOfNumber), and should point to the type name ListOfNumber.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_3_4"><a class="link" href="#q_3_4">Q 3</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Your friend is asking you for some feedback on the design of their function <code>contains-negative?</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</div></td><td class="code"><span></span><span class="tok-c1">;; ListOfNumber -&gt; Boolean</span>
<span class="tok-c1">;; Produce #true if lon contains a negative number.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-negative?</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-negative?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">1</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">contains-negative?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">-1</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#true</span><span class="tok-p">)</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">contains-negative?</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-no">#false</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nb">negative?</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">))</span>
             <span class="tok-no">#true</span>
             <span class="tok-no">#false</span><span class="tok-p">)]))</span>
</td></tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which of the following suggestions should you give? Choose all that apply.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>a: Add a test at least two elements long
b: Don't change anything because all tests pass
c: Add the natural recursion as the false answer expression of the if
d: Whatever you do, don't trust the natural recursion!</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>Letter <em>a</em> and <em>d</em> are correct.</p>
</div>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="q_4_5_6"><a class="link" href="#q_4_5_6">Q 4, 5 6</a></h5>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Explain which part of the template results from which part of the type comment.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/qa05-typecmt-to-templ.jpg" alt="question template results from type comment">
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>First of all, ListOfNumber has two cases, so we need a <code>cond</code> expression.</p>
</div>
<div class="paragraph">
<p>This depicts which part of the function results from which part of the template.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/qa06-typecmt-to-templ-answer.jpg" alt="answer template results from type comment">
</div>
</div>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="position_in_list_templates"><a class="link" href="#position_in_list_templates">Position in List Templates</a></h3>
<div class="paragraph">
<p>Self-references in the type comments lead to natural recursion in the templates.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/vd04-typecmd-templ-selfrefs.jpg" alt="type comment self-ref leads to template natural recursion">
</div>
</div>
<div class="paragraph">
<p>Consider what we did to the template in <code>sum</code>, <code>count</code> and <code>contains-ubc?</code>. Pay attention to what was done to the base, contribution of the first and combination parts.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/vd05-poslisttempl.jpg" alt="position in list templates">
</div>
</div>
<hr>
<div class="sect3">
<h4 id="questions_5"><a class="link" href="#questions_5">Questions</a></h4>
<div class="sect4">
<h5 id="q_1_2_and_3_2"><a class="link" href="#q_1_2_and_3_2">Q 1, 2 and 3</a></h5>
<div class="paragraph">
<p>Consider a function called <code>product</code> that multiplies numbers in a list.</p>
</div>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q1: What should the base case be?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0
1
empty
#false</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: The base case for the <code>product</code> function should be <code>1</code>.</p>
</div>
</div>
</div>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q2: What is the contribution of the first element?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0
1
itself</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>A: The contribution of the first element is <em>itself</em>.</p>
</div>
</div>
</div>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p>Q3: What operation should we use to combine the contribution of the first with the result of the natural recursion?</p>
</div>
<div class="listingblock">
<div class="content">
<pre>+
*
if
product</pre>
</div>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p>We should use <code>*</code> to combine the contribution of the first element with the result of the natural recursion.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="qa_product"><a class="link" href="#qa_product">qa - product</a></h5>
<div class="paragraph">
<p>Implemented from the questions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">; Design a data definition and a function that multiplies the numbers</span>
<span class="tok-c1">; in a list. Call this function `product`.</span>

<span class="tok-c1">;; ListOfNumber is one of:</span>
<span class="tok-c1">;; - &#39;()</span>
<span class="tok-c1">;; - (cons Number ListOfNumber)</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">3</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">-5</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">-4</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">10</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;   - atomic distinct: empty</span>
<span class="tok-c1">;;   - (cons Number ListOfNumber)</span>
<span class="tok-c1">;; - self-reference: (rest lon) is ListOfNumber</span>

<span class="tok-c1">;; ListOfNumber -&gt; Number</span>
<span class="tok-c1">;; Produces the product of the numbers in the consumed list.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">product</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-mi">1</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">product</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">-3</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">-3</span> <span class="tok-mi">1</span><span class="tok-p">))</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">product</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">-5</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">-4</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">10</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>
              <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">-5</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">-4</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">10</span> <span class="tok-mi">1</span><span class="tok-p">))))</span>

<span class="tok-c1">;(define (product lon) 0) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">product</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-mi">1</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
            <span class="tok-p">(</span><span class="tok-n">product</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>
</td></tr></table></code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="practice_problems"><a class="link" href="#practice_problems">Practice Problems</a></h3>
<div class="sect3">
<h4 id="pp_double_all"><a class="link" href="#pp_double_all">pp - double all</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM 1:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a data definition for a list of Number.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfNumber is one of:</span>
<span class="tok-c1">;; - empty</span>
<span class="tok-c1">;; - (cons Number ListOfNumber)</span>
<span class="tok-c1">;; Interp: a list of numbers.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">-5.3</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">13</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">-4.1</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">100</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;; - atomic distinct: empty</span>
<span class="tok-c1">;; - compound: (cons Number ListOfNumber)</span>
<span class="tok-c1">;; - self-reference (rest lon) is ListOfNumber</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM 2:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a function that consumes a list of numbers and doubles every</span>
<span class="tok-c1">; number in the list. Call it double-all.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfNumber -&gt; ListOfNumber</span>
<span class="tok-c1">;; Doubles each number in consumed list.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">double-all</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">double-all</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">-3.14</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
              <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mf">-3.14</span> <span class="tok-mi">2</span><span class="tok-p">)</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">double-all</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">4</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">-9.1</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">100</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>
              <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">4</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
                    <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mf">-9.1</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
                          <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">100</span> <span class="tok-mi">2</span><span class="tok-p">)</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>

<span class="tok-c1">;(define (double-all lon) &#39;()) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">double-all</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-o">&#39;</span><span class="tok-p">()]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-mi">2</span><span class="tok-p">)</span>
               <span class="tok-p">(</span><span class="tok-n">double-all</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>
</td></tr></table></code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="pp_bool_list_all_true"><a class="link" href="#pp_bool_list_all_true">pp - bool list all true?</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;; =================</span>
<span class="tok-c1">;; Data definitions:</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM A:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a data definition to represent a list of booleans. Call it ListOfBoolean.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfBoolean is one of:</span>
<span class="tok-c1">;; - empty</span>
<span class="tok-c1">;; - (cons Boolean ListOfBoolean)</span>
<span class="tok-c1">;; Interp: a list of boolean values.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOB1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOB2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#false</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOB3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#true</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#false</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#false</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-lob</span> <span class="tok-n">lob</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lob</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lob</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">fn-for-lob</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lob</span><span class="tok-p">)))]))</span>

<span class="tok-c1">;; Template Rules Used</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;; - atomic distinct: empty</span>
<span class="tok-c1">;; - compound: (cons Boolean ListOfBoolean)</span>
<span class="tok-c1">;; - self-reference: (rest lon) is</span>

<span class="tok-c1">;; =================</span>
<span class="tok-c1">;; Functions:</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM B:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a function that consumes a list of boolean values and produces true</span>
<span class="tok-c1">; if every value in the list is true. If the list is empty, your function</span>
<span class="tok-c1">; should also produce true. Call it all-true?</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfBoolean -&gt; Boolean</span>
<span class="tok-c1">;; Prduce #true if all elements are true. If list is empty, also produce #true.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">all-true?</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-no">#true</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">all-true?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#false</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-no">#false</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">all-true?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#true</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#true</span> <span class="tok-o">&#39;</span><span class="tok-p">())))</span> <span class="tok-no">#true</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">all-true?</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#true</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#true</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-no">#false</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span> <span class="tok-no">#false</span><span class="tok-p">)</span>

<span class="tok-c1">; (define (all-true? lob) #false) ;stub</span>

<span class="tok-c1">; A more beginner-like version.</span>
<span class="tok-c1">; (define (all-true? lob)</span>
<span class="tok-c1">;   (cond [(empty? lob) #true]</span>
<span class="tok-c1">;         [else</span>
<span class="tok-c1">;          (if (false? (first lob))</span>
<span class="tok-c1">;              #false</span>
<span class="tok-c1">;              (all-true? (rest lob)))]))</span>

<span class="tok-c1">;; A more elegant and professional version.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">all-true?</span> <span class="tok-n">lob</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lob</span><span class="tok-p">)</span> <span class="tok-no">#true</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">and</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lob</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">all-true?</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lob</span><span class="tok-p">)))]))</span>

<span class="tok-c1">;; Remember that `(and ...)` returns #false on the first</span>
<span class="tok-c1">;; non-truthy value.</span>
</td></tr></table></code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="pp_largest_number"><a class="link" href="#pp_largest_number">pp - largest number</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>

<span class="tok-c1">;; ListOfNumber is one of:</span>
<span class="tok-c1">;; - empty</span>
<span class="tok-c1">;; - (cons Number ListOfNumeber)</span>
<span class="tok-c1">;; Interp: a list of numbers.</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">5.1</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LON3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">5</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">19.4</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">19.5</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">fn-for-lon</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;  - atomic distinct: empty</span>
<span class="tok-c1">;;  - compound: (cons Number ListOfNumber)</span>
<span class="tok-c1">;; - self-reference (rest lon) is ListOfNumber;</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a function that consumes a list of numbers and produces the</span>
<span class="tok-c1">; largest number in the list. You may assume that all numbers in the</span>
<span class="tok-c1">; list are greater than 0. If the list is empty, produce 0.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfNumber -&gt; Number</span>
<span class="tok-c1">;; Produce the largest number in the consumed list.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">largest</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">largest</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">5</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span> <span class="tok-mi">5</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">largest</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mi">5</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">3.1</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-mf">19.4</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span> <span class="tok-mf">19.4</span><span class="tok-p">)</span>

<span class="tok-c1">;(define (largest lon) 0) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">largest</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-mi">0</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nb">&gt;</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-n">largest</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))</span>
             <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">lon</span><span class="tok-p">)</span>
             <span class="tok-p">(</span><span class="tok-n">largest</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">lon</span><span class="tok-p">)))]))</span>
</td></tr></table></code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="pp_area_of_images"><a class="link" href="#pp_area_of_images">pp - area of images</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="racket"><table class="pyhltable"><tr><td class="linenos"><div class="linenodiv"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</div></td><td class="code"><span></span><span class="tok-kn">#lang </span><span class="tok-nn">htdp/bsl</span>
<span class="tok-p">(</span><span class="tok-k">require</span> <span class="tok-n">2htdp/image</span><span class="tok-p">)</span>

<span class="tok-c1">;; =================</span>
<span class="tok-c1">;; Data definitions:</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM A:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a data definition to represent a list of images. Call it ListOfImage.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfImage is one of:</span>
<span class="tok-c1">;; - empty</span>
<span class="tok-c1">;; - (cons Image ListOfImage)</span>
<span class="tok-c1">;; Interp: a list of images</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOI1</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOI2</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">square</span> <span class="tok-mi">20</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span> <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-n">LOI3</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">square</span> <span class="tok-mi">25</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span>
                   <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">rectangle</span> <span class="tok-mi">25</span> <span class="tok-mi">30</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span>
                         <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">circle</span> <span class="tok-mi">25</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span> <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>

<span class="tok-c">#;</span>
<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">fn-for-loi</span> <span class="tok-n">loi</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">loi</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-k">...</span><span class="tok-p">)]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-k">...</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">loi</span><span class="tok-p">)</span>
              <span class="tok-p">(</span><span class="tok-n">fn-for-loi</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">loi</span><span class="tok-p">)))]))</span>

<span class="tok-c1">;; Template Rules Used:</span>
<span class="tok-c1">;; - one of: 2 cases</span>
<span class="tok-c1">;;   - atomic distinct: empty</span>
<span class="tok-c1">;;   - compound: (cons Image ListOfImage)</span>
<span class="tok-c1">;; - self-reference: (rest loi) is ListOfImage</span>


<span class="tok-c1">;; =================</span>
<span class="tok-c1">;; Functions:</span>

<span class="tok-c1">;</span>
<span class="tok-c1">; PROBLEM B:</span>
<span class="tok-c1">;</span>
<span class="tok-c1">; Design a function that consumes a list of images and produces a number</span>
<span class="tok-c1">; that is the sum of the areas of each image. For area, just use the image&#39;s</span>
<span class="tok-c1">; width times its height.</span>
<span class="tok-c1">;</span>

<span class="tok-c1">;; ListOfImage -&gt; Number</span>
<span class="tok-c1">;; Produce the area of all images combined.</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">sum-areas</span> <span class="tok-o">&#39;</span><span class="tok-p">())</span> <span class="tok-mi">0</span><span class="tok-p">)</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">sum-areas</span> <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">square</span> <span class="tok-mi">20</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span>
                               <span class="tok-o">&#39;</span><span class="tok-p">()))</span>
              <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">20</span> <span class="tok-mi">20</span><span class="tok-p">)</span> <span class="tok-mi">0</span><span class="tok-p">))</span>
<span class="tok-p">(</span><span class="tok-n">check-expect</span> <span class="tok-p">(</span><span class="tok-n">sum-areas</span>
               <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">square</span> <span class="tok-mi">20</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span>
                     <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">circle</span> <span class="tok-mi">25</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span>
                           <span class="tok-p">(</span><span class="tok-nb">cons</span> <span class="tok-p">(</span><span class="tok-n">rectangle</span> <span class="tok-mi">20</span> <span class="tok-mi">30</span> <span class="tok-s2">&quot;solid&quot;</span> <span class="tok-s2">&quot;black&quot;</span><span class="tok-p">)</span>
                                 <span class="tok-o">&#39;</span><span class="tok-p">()))))</span>
              <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">20</span> <span class="tok-mi">20</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">50</span> <span class="tok-mi">50</span><span class="tok-p">)</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-mi">20</span> <span class="tok-mi">30</span><span class="tok-p">)))</span>

<span class="tok-c1">;(define (sum-areas loi) 0) ;stub</span>

<span class="tok-p">(</span><span class="tok-k">define</span> <span class="tok-p">(</span><span class="tok-n">sum-areas</span> <span class="tok-n">loi</span><span class="tok-p">)</span>
  <span class="tok-p">(</span><span class="tok-k">cond</span> <span class="tok-p">[(</span><span class="tok-nb">empty?</span> <span class="tok-n">loi</span><span class="tok-p">)</span> <span class="tok-mi">0</span><span class="tok-p">]</span>
        <span class="tok-p">[</span><span class="tok-k">else</span>
         <span class="tok-p">(</span><span class="tok-nb">+</span> <span class="tok-p">(</span><span class="tok-nb">*</span> <span class="tok-p">(</span><span class="tok-n">image-width</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">loi</span><span class="tok-p">))</span> <span class="tok-p">(</span><span class="tok-n">image-height</span> <span class="tok-p">(</span><span class="tok-nb">first</span> <span class="tok-n">loi</span><span class="tok-p">)))</span>
            <span class="tok-p">(</span><span class="tok-n">sum-areas</span> <span class="tok-p">(</span><span class="tok-nb">rest</span> <span class="tok-n">loi</span><span class="tok-p">)))]))</span>
</td></tr></table></code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="gotcha"><a class="link" href="#gotcha">Gotcha</a></h4>
<div class="openblock question">
<div class="content">
<div class="paragraph">
<p><code>lon</code> is a list of numbers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(define (foo  lon)
  (cond [(empty? lon) 1]
        [else
         (* (first lon)
            (bar (rest lon)))]))

(define (bar lon)
  (cond [(empty? lon) '()]
        [else
         (cons (* (first lon) 2)
               (bar (rest lon)))]))</pre>
</div>
</div>
<div class="paragraph">
<p>Explain what the functions <code>foo</code> and <code>bar</code> do?</p>
</div>
</div>
</div>
<div class="openblock answer">
<div class="content">
<div class="paragraph">
<p><code>foo</code> sums all of the elements in lon and return the result as a single number. <code>bar</code> doubles each element in <code>lon</code> and returns a new list of numbers with the doubled values.</p>
</div>
</div>
</div>
<hr>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="quiz_the_hard_one"><a class="link" href="#quiz_the_hard_one">Quiz (the hard one)</a></h3>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/qa01-selfref-wellform.png" alt="self-reference well-formedness">
</div>
<div class="title">Question about self-reference well-formedness</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The base case is something that is either <code>'()</code> (meaning an empty list also matches the given type comment) or <code>(cons SomeType empty)</code> meaning the list is non-empty, that is, SomeType must appear at least once and <code>empty</code> is not a valid thing for that particular case.
</td>
</tr>
</table>
</div>
<hr>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/qa02-listABC-typecmt.png" alt="List A" width="B" height="C + Type Comments">
</div>
</div>
<div class="paragraph">
<p>Note that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ListA: empty or one of two distinct values of “yes” or “no”.</p>
</li>
<li>
<p>ListB: empty or a normal list.</p>
</li>
<li>
<p>ListC: the only non-empty list in these examples.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Explanation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ListA matches template 2 because it is the only one with three cases.</p>
</li>
<li>
<p>ListC matches template 1 because it is a non-empty list, and the first cond question in template two is (empty? (rest l)) instead of the usual (empty? l).</p>
</li>
<li>
<p>This leaves ListB matching template 3, the standard list template.</p>
</li>
</ul>
</div>
<hr>
<div class="listingblock">
<div class="content">
<pre>;; ListA is one of:
;; - empty
;; - (cons "yes" ListA)
;; - (cons "no"  ListA)
;; Interp. ???</pre>
</div>
</div>
<div class="paragraph">
<p>So, this template means that we can have either an empty list, or a list containing “yes” and “no” and nothing else, it seems. Therefore, this template makes sense for ListA:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; Template 2
(define (fn-for-listA l)
  (cond [(empty? l) (...)]
        [(&lt;some function&gt;) (... (first l)
                           (fn-for-listA (rest l)))]
        [else
         (... (first l)
              (fn-for-listA (rest l)))]))</pre>
</div>
</div>
<div class="paragraph">
<p>It would check if the list is empty, or if <code>(first l)</code> is equal to the string “yes”, otherwise it must be “no” (or something like that.</p>
</div>
<hr>
<div class="paragraph">
<p>This is the non-empty list that uses (empty? (rest l)) instead of the usual (empty? l).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListC is one of:
;; - (cons String empty)
;; - (cons String ListC)
;; Interp. ???

;; Template 1
(define (fn-for-listX l)
  (cond [(empty? (rest l)) (...)]
        [else
         (... (first l)
              (fn-for-listX (rest l)))]))</pre>
</div>
</div>
<div class="paragraph">
<p>Note <code>[(empty? (rest l)) (&#8230;&#8203;)]</code> instead of the usual <code>[(empty? l) (&#8230;&#8203;)]</code>. This is the difference.</p>
</div>
<hr>
<div class="paragraph">
<p>The normal, usual data def and template.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>;; ListB is one of:
;; - empty
;; - (cons String ListB)
;; Interp. ???

;; Template 3
(define (fn-for-listX l)
  (cond [(empty? l) (...)]
        [else
         (... (first l)
              (fn-for-listX (rest l)))]))</pre>
</div>
</div>
<hr>
<div class="imageblock">
<div class="content">
<img src="part04a/imgs/qa03-twoselfrefarrows.png" alt="two self-ref arrows">
</div>
</div>
<div class="paragraph">
<p>There are two self-references to Path and both must be specified explicitly.</p>
</div>
<hr>
<script src='script.js'></script>
<style type='text/css'>
#toc ul { list-style-type: circle }
pre, pre > code { font-family: 'Source Code Pro', 'Ubuntu Mono', 'Anonymous Pro', monospace; }
.listingblock .pygments .tok-c1 { font-style: normal; }
</style>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-01-21 18:54:34 BRST
</div>
</div>
</body>
</html>